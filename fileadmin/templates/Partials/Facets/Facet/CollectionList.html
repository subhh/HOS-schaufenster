{namespace s=Subugoe\Find\ViewHelpers}
<ol class="facetList{f:if(condition:facetInfo.autocomplete, then:' autocomplete')}">
	<f:for each="{facetData.values}" as="itemCount" key="facetTerm" iteration="iterator">
		{s:format.regexp(
			string:facetTerm,
			match:'/[\.\s]+/',
			replace:'_'
		) -> f:variable(name:'key')}
		{facetInfo.map.{key} -> f:variable(name:'icon')}
		{s:format.regexp(
                        string: facetInfo.icon,
                        match: '/%s/',
                        replace:icon
                ) -> f:variable(name:'facetTermIcon')}
                {facetTerm -> f:variable(name: 'facetTermDisplay')}
                <f:render partial="Facets/Facet/CollectionList/Item"
                        arguments="{_all}"/>
	</f:for>
	
	<f:if condition="{f:count(subject:facetData.values)} > {facetInfo.displayDefault}">
		<li class="facetShowAll">
			<a href="#" onclick="return tx_find.showAllFacetsOfType(event)">
				<f:translate key="show all"/>
			</a>
		</li>
	</f:if>
</ol>